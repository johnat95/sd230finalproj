<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Calculator</title>
  <script src="calculator.js"></script>
  <link rel="stylesheet" href="./calcstyle.css" type="text/css">
</head>

<body>
  <div class="header">
    <label>Running Total Calculator</label>
  </div>
    <main>
      <div id="calculator" class="grid">

        <div id="display-container" class="grid-item full-span">
          <div id="calc-display" ></div>
        </div>

        <div id="C" class="grid-item">C</div>
        <div id="+-" class="grid-item">+/-</div>
        <div id="%" class="grid-item">%</div>
        <div id="?" class="grid-item">/</div>

        <div id="7" class="grid-item">7</div>
        <div id="8" class="grid-item">8</div>
        <div id="9" class="grid-item">9</div>
        <div id="X" class="grid-item">x</div>

        <div id="4" class="grid-item">4</div>
        <div id="5" class="grid-item">5</div>
        <div id="6" class="grid-item">6</div>
        <div id="-" class="grid-item">-</div>

        <div id="1" class="grid-item">1</div>
        <div id="2" class="grid-item">2</div>
        <div id="3" class="grid-item">3</div>
        <div id="+" class="grid-item">+</div>

        <div id ="0" class="grid-item left-half-span">0</div>
        <div id="." class="grid-item">.</div>
        <div id="=" class="grid-item">=</div>

      </div>

    <div id="output-display">
      <p></p>
    </div>
  </main>

</body>
</html>
<script>

/*
3. Calculator
Create a program that functions as a calculator.
The program stores each user input one at a time until an "=" sign is input.
At which point the values input should be processed as a calculator would.
1000 + 5 * 3 =
Assume this is input one at a time. [1,0,0,0,"+",5,"*",3,"="]

Order of operations must be considered. Parenthesis and Exponents need not be handled nor do you have to handle decimals.
Major Extra credit if you handle the PE in PEMDAS and add decimals.

Values it must handle.
[0,1,2,3,4,5,6,7,8,9,"+","-","/","*","="]

*/
equationArray = []
tickerString = ""
symbolArray = ['+','-', '/', '*']

/**
 * Main function of the program, called when button on webpage is clicked
 */
const setup = function(){

    initEventListeners()
}

/**
 *
 * @param {Array} options array of vaild non numeral characters
 * @returns {Array} Array of character input from user defining an equation
 */
function initEventListeners(){

    childArray = Array.from(document.getElementById('calculator').children)

    childArray.forEach((e) => {

        if(e.id === "C"){
            e.addEventListener('click', clearArray)
        }else if(e.id === "="){
            e.addEventListener('click', submit)
        }else if(e.id === "display-container"){
            //do not add eventlistener
        }else if(e.id === "+/-"){
                //do not add eventlistener
        }else{
            e.addEventListener('click', addToString)
        }


    });

}

function add(a,b){
    return a+b
}
function subtract(a,b){
    return a-b
}

function divide(a,b){
    return a/b
}

function mult(a,b){
    return a*b
}

function calculateArray(){

    hold = 0
    value = 0

}

  const addToString = (event) => {

        equationArray.push(event.target.id)

        updateDisplay("calc-display", formatEqArray())

  }

  const clearArray = () =>{

    equationArray = []

    updateDisplay('calc-display', formatEqArray())
  }

  const submit = () =>{

    calculateArray()
    addTickerElement(formatEqArray())
    clearArray()

  }

function updateDisplay(display, value){
    elem = document.getElementById(display)
    elem.innerText = value
}

function formatEqArray(){
    str = ""

    equationArray.forEach((e) =>{
        str += e
    })

    return str
}

function addTickerElement(value){
    p = document.createElement("p")
    p.innerText = value
    document.getElementById("output-display").appendChild(p)

    clear = document.createElement('p')
    clear.innerText = "------clear---------"
    document.getElementById('output-display').appendChild(clear)

}

window.onload = setup

</script>
